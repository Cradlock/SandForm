# Платформа

Этот проект `игровая песочница` 


## Структура

*Код*
```
.
├── app.cpp  
├── CMakeLists.txt  
├── core 
│   ├── CMakeLists.txt
│   ├── include
│   └── src
── plugin_manager  
│   ├── CMakeLists.txt
│   ├── include
│   └── src

```

# Детали структуры

## Отдельные модули которые исполняют свои задачи

### `core` dynamic модуль 
Нужен для системы логирования,общих базовых типов данных а также работы с ресурсами,
управления тиками игры.Все остальные модули зависят от `core`.Также core является посредником между всеми 
через `Event bus` где каждый модуль может создать событие а остальные подписатся на него и после даже не 
зная друг о друге могут работать в нужный момент.Также `core` регулирует потоки игры,все действия можно
делать только через `core`, остальные модули просто испольнают свои обязанности.()


## То что будет в самом .exe 
### `plugin_manager` static модуль 
Загрузка .dynamic модулей проекта

### `app.cpp`
Точка входа которая все запускает.


## Модули нужные для Движка  
> Могут быть написаны на языке поддерживающий создание динамической библиотеки
### `input` dynamic модуль
Модуль для обработки действий от игрока.(Нажатия клавиш,работа с мышью,геймпад)

### `render` dynamic модуль
Графический движок.Отрисовка всех элементов игры

### `sound` dynamic модуль
Работа со звуком.

### `ui` dynamic модуль
UI - отрисовка интерфейса. (кнопки,меню и т.д)

### `modding` dynamic модуль
Основной клиентский API,нужен чтобы пользователи могли писать свою логику для их игры.

### `logic` dynamic модуль
Логическая система игры.Хранит всю логическую систему




## Цикл работы
```
Запуск точки входа app.cpp 
    |
    |
Активация логгера 
    |\
    | \error -> Пищем ошибку в терминал
    |  
    |
Загрузка конфига
    |\
    | \error -> Системный вывод ошибки,пишем в логи
    | 
    |
Активируется plugin_manager собирая важные модули.
    |\
    | \error -> Системный вывод ошибки,пишем в логи
    |
    |
Init() у модулей
    |\
    | \error -> Системный вывод ошибки,пишем в логах самого модуля
    |
    |
Запуск главного цикла

```
---
> Плагины могут поменять главное меню,окно загрузки,кнопки,текстуры,шейдеры
> можно использовать несколько плагинов если они не мешают,если мешают надо выбрать определенный
---
```                
      Game Name
    ----------------
        [Start]
        [Saves]
        [Games]
       [Settings]
        [Quit]
```
---
```
[Start] -> Запуск последней сохраненой игры с последней модификацией

[Saves] -> Просмотреть все сохраненые игры 

[Games] -> Просмотр всех модов 

[Settings] -> Настройки

[Quit] -> Выйти из игры
```



## Зависимости
- `GLFW`:Модуль для создания графического окна (Windows,Linux,MacOS),также 
позволяет ловить ввод с клавиатуры.






## Логическая структура игры
Сушествует два главных обьекта в игре.

### Entity 
Сущность - просто id в общем массиве сущностей.Его можно расширять при помощи,
других таблиц.
```
list entities = [121,12312,3123,123,123,12,312,312] // сущности
```
Допустим классы для хранения координат

```
map<Entity_ID,Coordinates>;
```
Или игровые данные
```
map<Entity_ID,Health>;
map<Entity_ID,Mana>;
map<Entity_ID,Stamina>;
```

### Dimension
Мир и система координат

--- 








